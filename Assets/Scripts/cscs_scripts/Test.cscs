class MyMessageBusCallbackClass
{
    MyMessageBusCallbackClass(gameApiProxy)
    {
        m_messageBusProxy = gameApiProxy.GetMessageBusProxy();
    }

    function ReceiveMessage()
    {
        messageQueue = m_messageBusProxy.GetMessageQueue(this, "WelcomeMessage");
        welcomeMessage = messageQueue.DequeueMessage();
        
        DebugLog("Callback from Message Bus: " + welcomeMessage.WelcomeMessage);
    }
}
GameApiProxy = CreateGameApiProxyObject();
MessageBusProxy = GameApiProxy.GetMessageBusProxy();

MyMessageBusCallback = new MyMessageBusCallbackClass(GameApiProxy);

MessageBusProxy.SubscribeToMessage("MyMessageBusCallback", "WelcomeMessage");