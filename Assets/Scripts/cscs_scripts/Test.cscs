class MyMessageBusCallbackClass
{
    MessageBusProxy = null;
    MyMessageBusCallbackClass(messageBus)
    {
        MessageBusProxy = messageBus;
    }

    function ReceiveMessage()
    {
        messageQueue = MessageBusProxy.GetMessageQueue(this, "WelcomeMessage");
        welcomeMessage = messageQueue.DequeueMessage();
        
        DebugLog("Callback from Message Bus: " + welcomeMessage.WelcomeMessage);
    }
}
gGameApiProxy = CreateGameApiProxyObject();
gMessageBusProxy = gGameApiProxy.GetMessageBusProxy();

gMyMessageBusCallback = new MyMessageBusCallbackClass(gMessageBusProxy);

gMessageBusProxy.SubscribeToMessage("gMyMessageBusCallback", "WelcomeMessage");